{
  "name": "Análisis de Item",
  "tagline": "Clases S4 para la construcción de análisis.",
  "body": "## Tutorial análisis de ítem\r\nEste corto tutorial tiene el fin de introducir el diseño de clases realizado por la Subdirección de estadística para estandarizar la construcción de los análisis que requiere las pruebas que aplican el ICFES.\r\n\r\n## Diagrama de clases \r\nEl siguiente diagrama presenta el conjunto de atributos y métodos que están relacionados con las diferentes clases del análisis de ítems. En el diagrama se muestran en verde los análisis que ya se tienen adelantados, en amarillo aquellos análisis hace falta alguna implementación del código y en rojo aquellos que no se han iniciado.\r\n\r\n![img1](https://raw.githubusercontent.com/SUB-ESTADISTICA-ICFES/ACC/master/mapa_clases.png)\r\n\r\n## Ejemplo de inicialización de una clase \"Test\"\r\nComo un pequeño ejemplo correremos el análisis de teoría de respuesta al ítem para la prueba de \"Mantenimiento e Instalación de Software y Hardware\" de SABER TyT de la aplicación 2016-1.\r\n\r\n1. Descargar o clonar el repositorio [GitHub](https://github.com/SUB-ESTADISTICA-ICFES/ACC/tree/new_Prueba_Class).\r\n2. Descargar el conjunto de datos del siguiente [enlace](https://drive.google.com/open?id=0B9JWP21TLaLQbTFoTW9BZ3ZpRm8).\r\n3. Poner la carpeta \"Ma\" al interior de la carpeta **Input**.\r\n4. Inicialización de la clase \"Test\", el siguiente código debe ser ejecutado desde la carpeta que se creo con anterioridad, cambiando adecuadamente la ruta de trabajo en R. \r\n\r\n~~~R\r\n################################################################################\r\n# # Directorios globales\r\n################################################################################\r\ninPath  <- file.path(\"..\",\"Input\")\r\nsrcPath <- file.path(\"..\",\"Src\")\r\nfunPath <- file.path(\"Function\")\r\noutPath <- file.path(\"..\", \"Output\")\r\nlogPath <- file.path(\"..\", \"Log\")\r\n################################################################################\r\n\r\n# # Carga de funciones y parámetros\r\npathExpeci <- file.path(inPath, \"Especificaciones1.xlsx\")\r\npathExam   <- \"MA/EK20161/exam717/pbaF500301\"\r\nsource(file.path(\"Function\", \"pruebaClass.R\"))\r\n\r\n# # Inicializacion de análisis\r\nparamLect <- list(conDirs = \"pbaF500301.con\", valMUO = NA)\r\nprueba0   <- new('Test', path = paste0(pathExam, \"/pbaF500301\"), \r\n               exam = \"SABERTYT\", codMod = \"07\",\r\n               verInput = 1, nomTest = \"SABER T&T(Mantenimiento e Instalación de Software y Hardware F1)\", \r\n               paramLect = paramLect) \r\n~~~\r\n\r\nVer la estructura de la variable prueba0 que contiene la clase análisis.\r\n\r\n~~~R\r\nstr(prueba0)\r\n~~~\r\n\r\n### Definición del análisis IRT\r\nCon relación al análisis de IRT se construyo el \"06IRT.R\", que contiene todos los análisis, este programa se encuentra en la carpeta del repositorio de Github. Para correr este análisis se deben seguir los siguientes pasos.\r\n\r\n1. Incluir en la carga de funciones y parámetros el siguiente llamado.\r\n\r\n~~~R\r\nsource(\"06IRT.R\")\r\n~~~\r\n\r\n2. Inicializar el análisis IRT con la función creada para tal fin, ¿Qué se observa?.\r\n\r\n~~~R\r\ncodeana1 <- IRT(test = prueba0, list(kOmissionThreshold = 1))\r\n~~~\r\n\r\n## Métodos de la clase \"Analysis\"\r\n\r\nSiguiendo con el ejemplo :\r\n\r\n3. Correr \"codeAnalysis\", ¿Qué se observa?.\r\n~~~R\r\ncodeAnalysis(codeana1)\r\n~~~\r\n4. Correr \"outXLSX\", ¿Qué se observa?.\r\n~~~R\r\noutXLSX(codeana1)\r\n~~~\r\n4. Correr \"outHTML\", ¿Qué se observa?.\r\n~~~R\r\noutHTML(codeana1)\r\n~~~\r\n\r\n## Construcción de nuevo Análisis.\r\n\r\nComo ejercicio construiremos un análisis que contabilice el numero de respuestas incorrectas de los individuos que presentaron la prueba mencionada con anterioridad. Para tal fin se debe hacer la definición de la clase y las salidas en xlsx. Los pasos que seguiremos son los siguientes.\r\n\r\n1. Definición de la clase \"conteoIncorrectos\" que herede de la clase análisis, es aconsejable construir un archivo por cada una de las clases que se definan.\r\n\r\n~~~R\r\n################################################################################\r\n# # XXconteoIncorrectos.R\r\n# # R Versions: R version 3....\r\n# #\r\n# # Author(s): xxxxxxx\r\n# #\r\n# # SABER ICFES\r\n# #\r\n# # Inputs: Dictionary and list of data.frames with data from\r\n# #         00CrearRdata.R\r\n# #\r\n# # Outputs: .......\r\n# #\r\n# # File history:\r\n# #   20160809: Creation\r\n################################################################################\r\n\r\n################################################################################\r\n# # Definition of class and parameters\r\n################################################################################\r\n\r\n# # Heritage class Analysis\r\nconteoIncorrectos<- setClass(\"conteoIncorrectos\", contains = \"Analysis\")\r\nsetMethod(\"initialize\", \"conteoIncorrectos\", function(.Object, ..., param) {\r\n  .Object@outFile$pathRdata <- \"../Output/XXINCORRECTOS/outList_INCORRECTOS.Rdata\"\r\n  .Object <- callNextMethod()\r\n})\r\n~~~\r\n\r\n2. Definición de una función \"Incorrectos\" que cree un objecto de la clase \"conteoIncorrectos\".\r\n\r\n~~~R\r\nIncorrectos<- function(test, paramExp = NULL){\r\n  object <- new(\"conteoIncorrectos\", test = test, param = paramExp)\r\n  return(object)\r\n}\r\n~~~\r\n\r\n3. Definición y parametrización de la función \"Incorrectos\".\r\n\r\n~~~R\r\nIncorrectos<- function(test, paramExp = NULL){\r\n  paramDefault <- list(kOmissionThreshold = 1,\r\n                       flagOri = FALSE, flagTotal = TRUE,\r\n                       flagSubCon = TRUE, orderedDat = FALSE)\r\n  # # Include paramExp\r\n  if (!is.null(paramExp)) {\r\n    isNew     <- names(paramExp)[names(paramExp) %in% names(paramDefault)]\r\n    isDefault <- names(paramDefault)[!names(paramDefault) %in% names(paramExp)]\r\n    paramExp  <- c(paramExp[isNew], paramDefault[isDefault])\r\n  } else {\r\n    paramExp <- paramDefault\r\n  }\r\n  object <- new(\"conteoIncorrectos\", test = test, param = paramExp)\r\n  object <- filterAnalysis(object)\r\n  return(object)\r\n}\r\n~~~\r\n\r\n4. Llamado de la función \"Incorrectos\". ¿Qué se observa?.\r\n\r\n~~~R\r\ncodeana2 <- Incorrectos(test = prueba0, paramExp = NULL)\r\n~~~\r\n\r\n5. Creación de los métodos de la clase \"conteoIncorrectos\".\r\n\r\n~~~R\r\nsetMethod(\"codeAnalysis\", \"conteoIncorrectos\", \r\nfunction(object){\r\n  print(\"en construcción codeAnalysis.\")\r\n})\r\n\r\nsetMethod(\"outXLSX\", \"conteoIncorrectos\", \r\nfunction(object, srcPath = \".\"){\r\n  print(\"en construcción outXLSX para conteoIncorrectos\")\r\n})\r\n\r\nsetMethod(\"outHTML\", \"conteoIncorrectos\", \r\nfunction(object, srcPath){\r\n  print(\"en construcción outHTML para conteoIncorrectos\")\r\n})\r\n~~~\r\n\r\n6. Llamado de la función \"Incorrectos\". ¿Qué se observa?.\r\n~~~R\r\ncodeana2 <- Incorrectos(test = prueba0, paramExp = NULL)\r\n~~~\r\n\r\n7. Cambiar la función \"codeAnalysis\" con los requerimientos.\r\n\r\n~~~R\r\nsetMethod(\"codeAnalysis\", \"conteoIncorrectos\", \r\nfunction(object){\r\n  # # Load libraries and create folders\r\n  outPath <- file.path(outPath, \"XXINCORRECTOS\")\r\n  dir.create(outPath, recursive = TRUE, showWarnings = FALSE)    \r\n  require(data.table)\r\n\r\n  # # create list to save results\r\n  listResults <- list()\r\n  pruebasRead <- names(object@datAnalysis)\r\n  for (kk in pruebasRead) {\t\r\n      cat(\".... Ejecutando para -->\", kk, \"\\n\")\r\n      # # Define Dictionary\r\n      dictVarPrueba <- object@datAnalysis[[kk]]$dictionary\r\n\r\n      # # item that are part of the index\r\n      indexItems    <- dictVarPrueba[, 'id']\r\n      dataCor       <- object@datAnalysis[[kk]]$datos[, indexItems, with = FALSE]\r\n\r\n      # # count mistakes\r\n      countIncorrec <- rowSums(dataCor == 0)\r\n      print(summary(countIncorrec))\r\n      cat(\"El total de respuestas incorrectas es de :\", countIncorrec)\r\n  }\r\n\r\n})\r\n~~~\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}